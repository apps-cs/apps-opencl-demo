<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCL UTILS: ocl_utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenCL UTILS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ocl_utils.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>OpenCL Utils for initialization, load program and SVM allocation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;CL/opencl.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ocl_utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="ocl__utils_8h__incl.png" border="0" usemap="#aocl__utils_8h" alt=""/></div>
<map name="aocl__utils_8h" id="aocl__utils_8h">
<area shape="rect" title="OpenCL Utils for initialization, load program and SVM allocation." alt="" coords="18,5,106,31"/>
<area shape="rect" title=" " alt="" coords="5,79,119,104"/>
<area shape="poly" title=" " alt="" coords="65,31,65,65,59,65,59,31"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ocl__utils_8h__dep__incl.png" border="0" usemap="#aocl__utils_8hdep" alt=""/></div>
<map name="aocl__utils_8hdep" id="aocl__utils_8hdep">
<area shape="rect" title="OpenCL Utils for initialization, load program and SVM allocation." alt="" coords="147,5,235,31"/>
<area shape="rect" href="ocl__svm__mat__allocator_8cpp.html" title="Share Virtual Memory Mat Allocator." alt="" coords="5,79,204,104"/>
<area shape="poly" title=" " alt="" coords="169,41,121,81,117,76,165,37"/>
<area shape="rect" href="ocl__utils_8cpp.html" title="OpenCL Utils for initialization, load program and SVM allocation." alt="" coords="228,79,331,104"/>
<area shape="poly" title=" " alt="" coords="218,37,267,76,263,81,214,41"/>
</map>
</div>
</div>
<p><a href="ocl__utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Macros for checking OpenCL Errors. </p>
</div></td></tr>
<tr class="memitem:aebb31f44aeb80bc35fec4cd9ca66974d" id="r_aebb31f44aeb80bc35fec4cd9ca66974d"><td class="memItemLeft" align="right" valign="top"><a id="aebb31f44aeb80bc35fec4cd9ca66974d" name="aebb31f44aeb80bc35fec4cd9ca66974d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CL_ERR_C</b>(ERROR)&#160;&#160;&#160;_CL_ERR( ERROR, ; )</td></tr>
<tr class="memdesc:aebb31f44aeb80bc35fec4cd9ca66974d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Error. <br /></td></tr>
<tr class="separator:aebb31f44aeb80bc35fec4cd9ca66974d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5450a2cf7e8ef70ca3e525e79e3609b" id="r_ac5450a2cf7e8ef70ca3e525e79e3609b"><td class="memItemLeft" align="right" valign="top"><a id="ac5450a2cf7e8ef70ca3e525e79e3609b" name="ac5450a2cf7e8ef70ca3e525e79e3609b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CL_ERR_R</b>(ERROR)&#160;&#160;&#160;_CL_ERR( ERROR, return ( ERROR ); )</td></tr>
<tr class="memdesc:ac5450a2cf7e8ef70ca3e525e79e3609b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Error and return. <br /></td></tr>
<tr class="separator:ac5450a2cf7e8ef70ca3e525e79e3609b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735671fb2252b7e0d8c46eedb884393c" id="r_a735671fb2252b7e0d8c46eedb884393c"><td class="memItemLeft" align="right" valign="top"><a id="a735671fb2252b7e0d8c46eedb884393c" name="a735671fb2252b7e0d8c46eedb884393c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CL_ERR_E</b>(ERROR)&#160;&#160;&#160;_CL_ERR( ERROR, exit( EXIT_FAILURE ); )</td></tr>
<tr class="memdesc:a735671fb2252b7e0d8c46eedb884393c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Error and exit. <br /></td></tr>
<tr class="separator:a735671fb2252b7e0d8c46eedb884393c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a83447520064d8072e27906815499a4e7" id="r_a83447520064d8072e27906815499a4e7"><td class="memItemLeft" align="right" valign="top">cl_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocl__utils_8h.html#a83447520064d8072e27906815499a4e7">ocl_init</a> (int t_verbose=0, int t_gpu_dev_index=0)</td></tr>
<tr class="memdesc:a83447520064d8072e27906815499a4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenCL initialization.  <br /></td></tr>
<tr class="separator:a83447520064d8072e27906815499a4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569ef2d1080292c5e2c2532171c098c9" id="r_a569ef2d1080292c5e2c2532171c098c9"><td class="memItemLeft" align="right" valign="top">cl::Program&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocl__utils_8h.html#a569ef2d1080292c5e2c2532171c098c9">ocl_load_program</a> (const std::string t_kernel_filename)</td></tr>
<tr class="memdesc:a569ef2d1080292c5e2c2532171c098c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for loading program with kernels.  <br /></td></tr>
<tr class="separator:a569ef2d1080292c5e2c2532171c098c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b751fbd2e4841b32d5eefd260762ac" id="r_a12b751fbd2e4841b32d5eefd260762ac"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a12b751fbd2e4841b32d5eefd260762ac"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="ocl__utils_8h.html#a12b751fbd2e4841b32d5eefd260762ac">ocl_svm_malloc</a> (size_t t_size=1)</td></tr>
<tr class="memdesc:a12b751fbd2e4841b32d5eefd260762ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for easy SVM memory allocation.  <br /></td></tr>
<tr class="separator:a12b751fbd2e4841b32d5eefd260762ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528e9892bfa9e9ace4a2e11b23c07283" id="r_a528e9892bfa9e9ace4a2e11b23c07283"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocl__utils_8h.html#a528e9892bfa9e9ace4a2e11b23c07283">ocl_svm_free</a> (void *t_ptr)</td></tr>
<tr class="memdesc:a528e9892bfa9e9ace4a2e11b23c07283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for SVM memory deallocation.  <br /></td></tr>
<tr class="separator:a528e9892bfa9e9ace4a2e11b23c07283"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OpenCL Utils for initialization, load program and SVM allocation. </p>
<hr  />
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a83447520064d8072e27906815499a4e7" name="a83447520064d8072e27906815499a4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83447520064d8072e27906815499a4e7">&#9670;&#160;</a></span>ocl_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cl_int ocl_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t_verbose</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t_gpu_dev_index</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OpenCL initialization. </p>
<p><a class="anchor" id="ocl_init"></a></p>
<p>Function detect OpenCL environment. It detects how many Platforms are available and how many Devices are on the individual Platforms. The first Platform with GPU type Device is set as default.</p>
<p>When some GPU Device was found, then is created default Context and default Queue.</p>
<p>After OpenCL initialization is available:</p><ul>
<li>cl::Platform::getDefault();</li>
<li>cl::Device::getDefault();</li>
<li>cl::Context::getDefault();</li>
<li>cl::CommandQueue::getDefault();</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_verbose</td><td>Verbose mode of OpenCL initialization. </td></tr>
    <tr><td class="paramname">t_gpu_dev_index</td><td>Index of selected GPU device, default 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cl_int error code or CL_SUCCESS. </dd></dl>

</div>
</div>
<a id="a569ef2d1080292c5e2c2532171c098c9" name="a569ef2d1080292c5e2c2532171c098c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a569ef2d1080292c5e2c2532171c098c9">&#9670;&#160;</a></span>ocl_load_program()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cl::Program ocl_load_program </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>t_kernel_filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for loading program with kernels. </p>
<p><a class="anchor" id="ocl_load_program"></a></p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_kernel_filename</td><td>File name with SPIRV code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Instance of cl::Program </dd></dl>

</div>
</div>
<a id="a528e9892bfa9e9ace4a2e11b23c07283" name="a528e9892bfa9e9ace4a2e11b23c07283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528e9892bfa9e9ace4a2e11b23c07283">&#9670;&#160;</a></span>ocl_svm_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocl_svm_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>t_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for SVM memory deallocation. </p>
<p><a class="anchor" id="ocl_svm_free"></a></p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_ptr</td><td>Pointer to SVM memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12b751fbd2e4841b32d5eefd260762ac" name="a12b751fbd2e4841b32d5eefd260762ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b751fbd2e4841b32d5eefd260762ac">&#9670;&#160;</a></span>ocl_svm_malloc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T * ocl_svm_malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>t_size</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for easy SVM memory allocation. </p>
<p><a class="anchor" id="ocl_svm_malloc"></a></p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>data type. </td></tr>
    <tr><td class="paramname">t_size</td><td>number of allocated elements. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to allocated SVM memory. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
